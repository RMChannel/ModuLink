<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head
        th:replace="~{fragments/head :: mainHead(pageTitle='Novità e Aggiornamenti', additionalCss=${ {'/css/news.css'} })}">
</head>

<body>

<!-- Header importato -->
<header th:replace="~{fragments/header :: mainHeader}"></header>

<div class="news-page-container">
     <h1 class="page-title">Novità & Aggiornamenti</h1>

    <!-- Messaggio se non ci sono news -->
    <div th:if="${#lists.isEmpty(news)}" class="no-news-container">
        <div class="no-news-content">
            <i class="fa-solid fa-newspaper fa-3x"></i>
            <p>Al momento non ci sono novità. Torna a trovarci presto!</p>
        </div>
    </div>

     <!-- Lista News Dinamica -->
     <div th:each="n : ${news}" class="news-card">
         <!-- Parte superiore cliccabile -->
         <div class="news-header" onclick="toggleNews(this)">
             <div class="news-info">
                 <span class="news-date" th:text="${#temporals.format(n.data, 'dd MMM yyyy')}">Data</span>
                 <h3 class="news-title" th:text="${n.titolo}">Titolo News</h3>
             </div>
             <!-- Rettangolo contenitivo -->
             <div class="expand-btn">
                 <i class="fa-solid fa-chevron-down"></i>
             </div>
         </div>
         <!-- Parte a scomparsa -->
         <div class="news-content">
             <p th:text="${n.testo}">
                 Contenuto della news...
             </p>
         </div>
     </div>
</div>

<!-- Importazione del footer -->
<footer th:replace="~{fragments/footer :: mainFooter}"></footer>

<style>
    .no-news-container {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 50px 20px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        text-align: center;
        margin-top: 20px;
    }
    .no-news-content i {
        color: #ccc;
        margin-bottom: 15px;
    }
    .no-news-content p {
        font-size: 1.2rem;
        color: #666;
    }
</style>

<!-- JAVASCRIPT PER L'APERTURA -->
<script>
     function toggleNews(element) {
         // Trova la card genitore
         const card = element.closest('.news-card');

         // Aggiunge o rimuove la classe "active" per aprire/chiudere
         card.classList.toggle('active');
     }
</script>

</body>
</html>